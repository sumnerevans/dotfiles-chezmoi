# vim: set ft=toml:

theme = "slick"
icons = "awesome"

# Number of emails that are in my outbox, waiting to be sent.
[[block]]
block = "custom"
command = "echo ïƒ  $(ls ~/.offlinemsmtp-outbox | wc -l)"
interval = 10

[[block]]
block = "maildir"
interval = 10
inboxes = [
    "/home/sumner/Mail/Personal/INBOX",
    "/home/sumner/Mail/Mines/INBOX",
    "/home/sumner/Mail/Gmail/INBOX",
    "/home/sumner/Mail/TEF/INBOX",
]
threshold_warning = 10
threshold_critical = 50

[[block]]
block = "toggle"
text = "Send Email?"
command_state = "ls ~/tmp/offlinemsmtp-sendmail >/dev/null && echo 'Send Email'"
command_on = "touch ~/tmp/offlinemsmtp-sendmail"
command_off = "rm ~/tmp/offlinemsmtp-sendmail"
interval = 5

[[block]]
block = "memory"
format_mem = "{Mug}GiB"
format_swap = "{SUg}GiB"
warning_mem = 90
warning_swap = 90
critical_mem = 95
critical_swap = 95

[[block]]
block = "music"
{{- if eq .chezmoi.hostname "jedha" }}
buttons = ["play", "next"]
{{- else if eq .chezmoi.hostname "coruscant" }}
buttons = ["prev", "play", "next"]
{{- end }}

{{ if eq .chezmoi.hostname "jedha" }}
[[block]]
block = "backlight"
{{ end }}

[[block]]
block = "toggle"
text = "Mines VPN"
command_state = "nmcli con show --active | grep 'Mines VPN' >/dev/null && echo 'Mines VPN'"
command_on = "nmcli con up id 'Mines VPN'"
command_off = "nmcli con down id 'Mines VPN'"
interval = 5

[[block]]
block = "toggle"
text = "WG VPN"
command_state = "nmcli con show --active | grep 'Wireguard' >/dev/null && echo 'WG VPN'"
command_on = "nmcli con up id Wireguard"
command_off = "nmcli con down id Wireguard"
interval = 5

# Ping time
[[block]]
block = "custom"
command = "echo P: $(ping -c 1 -W 1 8.8.8.8 | grep -Po 'time=(.*)' | cut -d '=' -f 2)"
interval = 5

[[block]]
block = "net"
{{- if eq .chezmoi.hostname "jedha" }}
device = "wlp4s0"
{{- else if eq .chezmoi.hostname "coruscant" }}
device = "wlp35s0"
{{- end }}
ssid = true
ip = true
speed_down = false
graph_down = false
speed_up = false
graph_up = false
interval = 5
hide_missing = true
hide_inactive = true

[[block]]
block = "net"
{{- if eq .chezmoi.hostname "jedha" }}
device = "enp0s31f6"
{{- else if eq .chezmoi.hostname "coruscant" }}
device = "enp37s0"
{{- end }}
ip = true
speed_down = false
graph_down = false
speed_up = false
graph_up = false
interval = 5
hide_missing = true
hide_inactive = true

[[block]]
block = "sound"
step_width = 5

[[block]]
block = "time"
format = "%F %R:%S"
interval = 1

{{ if eq .chezmoi.hostname "jedha" }}
[[block]]
block = "battery"
interval = 30
format = "{percentage}% {time}"
device = "BAT0"

[[block]]
block = "battery"
interval = 30
format = "{percentage}% {time}"
device = "BAT1"
{{ end }}
